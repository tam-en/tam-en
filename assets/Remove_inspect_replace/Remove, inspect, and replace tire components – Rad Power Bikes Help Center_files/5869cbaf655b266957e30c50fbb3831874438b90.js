(function(){"use strict";var a={RENDER:"backToTop:render",VISIBLE:"backToTop:visible",INVISIBLE:"backToTop:invisible"};window.BackToTop=Util.createExtension({defaults:{threshold:null,template:null,templateData:{}},optionTypes:{threshold:"(string|number|null)",template:"(string|null)",templateData:"object"},initialize:function(a){this.el.classList.add("opacity-0","z-fixed"),this.options.threshold&&(a.threshold=parseInt(a.threshold)),this.setThreshold(),this.render(),this.addEventListeners(),this.onScroll(),this.el.classList.add("transition")},addEventListeners:function(){window.addEventListener("scroll",this.onScroll.bind(this)),window.addEventListener("resize",this.setThreshold.bind(this)),this.el.addEventListener("click",this.scrollToTop.bind(this))},onScroll:function(){(document.documentElement.scrollTop||document.body.scrollTop)>this.threshold?this.show():this.hide()},setThreshold:function(){this.threshold=null===this.options.threshold?document.documentElement.clientHeight:this.options.threshold},show:function(){var b=this.el;b.classList.remove("opacity-0"),Util.onTransitionEnd(b,function(){Util.triggerEvent(b,a.VISIBLE,{relatedTarget:b})})},hide:function(){var b=this.el;b.classList.add("opacity-0"),Util.onTransitionEnd(b,function(){Util.triggerEvent(b,a.INVISIBLE,{relatedTarget:b})})},scrollToTop:function(a){window.scrollTo({top:0,behavior:"smooth"}),a.preventDefault()},render:function(){var b,c=Util.getTemplateString(this.options.template);c||(c="<a class=\"flex button button-primary button-sm p-4 m-4 circle\" href=\"#\"><svg class=\"fill-current text-primary-inverse\" width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 100 100\"><polygon points=\"12.4,40.1 25.8,53.6 40.5,38.8 40.5,97.5 59.5,97.5 59.5,38.8 74.2,53.6 87.6,40.1 50,2.5\" /></svg></a>");var d=Util.template(c),e={threshold:this.options.threshold};this.options.templateData&&(e=Util.extend(e,this.options.templateData)),b=d(e).replace(/(^\s+|\s+$)/g,""),b&&(this.el.innerHTML=b),Util.triggerEvent(this.el,a.RENDER,{relatedTarget:this.el})}}),window.addEventListener("load",function(){each("[data-element=\"back-to-top\"]",function(a){new BackToTop(a)})})})();